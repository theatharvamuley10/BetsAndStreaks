<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>On-Chain RPS Game</title>
    <link rel="stylesheet" href="style.css" />
</head>

<body>
    <div id="app">
        <header>
            <h1>Rock Paper Scissors On-Chain</h1>
            <button id="connectWalletBtn">Connect MetaMask</button>
            <span id="walletAddress"></span>
            <div id="balance">Deposited Amount: --</div>
        </header>

        <section id="depositWithdraw">
            <h2>Deposit / Withdraw</h2>
            <div class="form-group">
                <label for="usdcAmount">USDC Amount</label>
                <input id="usdcAmount" type="number" placeholder="Enter USDC amount" />
            </div>
            <div class="form-row">
                <button id="depositBtn">Deposit</button>
                <button id="withdrawBtn">Withdraw</button>
            </div>
        </section>

        <section id="createMatch">
            <h2>Create Match</h2>
            <div class="form-group">
                <label for="betLevelSelect">Betting Amount</label>
                <select id="betLevelSelect">
                    <option value="1">1 USDC</option>
                    <option value="5">5 USDC</option>
                    <option value="10">10 USDC</option>
                    <option value="25">25 USDC</option>
                    <option value="50">50 USDC</option>
                </select>
            </div>
            <div class="form-group">
                <label for="createMoveSelect">Your Move</label>
                <select id="createMoveSelect">
                    <option value="rock">ü™® Rock</option>
                    <option value="paper">üìÑ Paper</option>
                    <option value="scissors">‚úÇÔ∏è Scissors</option>
                </select>
            </div>
            <div class="form-group">
                <label for="createSalt">Secret Salt</label>
                <input id="createSalt" type="text" placeholder="Enter secret salt for commitment" />
            </div>
            <button id="createMatchBtn">Create Match</button>
            <div id="createMatchStatus"></div>
        </section>

        <section id="joinMatch">
            <h2>Join Match</h2>
            <div class="form-group">
                <label for="joinMatchId">Match ID</label>
                <input id="joinMatchId" type="number" placeholder="Enter Match ID" />
            </div>
            <div class="form-group">
                <label for="joinMoveSelect">Your Move</label>
                <select id="joinMoveSelect">
                    <option value="rock">ü™® Rock</option>
                    <option value="paper">üìÑ Paper</option>
                    <option value="scissors">‚úÇÔ∏è Scissors</option>
                </select>
            </div>
            <div class="form-group">
                <label for="joinSalt">Secret Salt</label>
                <input id="joinSalt" type="text" placeholder="Enter secret salt for commitment" />
            </div>
            <button id="joinMatchBtn">Join Match</button>
            <div id="joinMatchStatus"></div>
        </section>

        <section id="revealMove">
            <h2>Reveal Move</h2>
            <div class="form-group">
                <label for="revealMatchId">Match ID</label>
                <input id="revealMatchId" type="number" placeholder="Enter Match ID" />
            </div>
            <div class="form-group">
                <label for="revealMoveInput">Your Move</label>
                <input id="revealMoveInput" type="text" placeholder="rock, paper, or scissors" />
            </div>
            <div class="form-group">
                <label for="revealSaltInput">Your Salt</label>
                <input id="revealSaltInput" type="text" placeholder="The salt you used earlier" />
            </div>
            <button id="revealBtn">Reveal Move</button>
            <div id="revealStatus"></div>
        </section>

        <section id="resolveMatch">
            <h2>Match Status</h2>
            <div class="form-group">
                <label for="resolveMatchId">Match ID</label>
                <input id="resolveMatchId" type="number" placeholder="Enter Match ID" />
            </div>
            <button id="getMatchStatusBtn">Get Match Status</button>
            <div id="matchStatus"></div>
        </section>
    </div>

    <script src="app.js" type="module"></script>

    <script>
        // Enhanced UI interactions
        document.addEventListener('DOMContentLoaded', function () {
            // Add loading states to buttons
            const buttons = document.querySelectorAll('button');
            buttons.forEach(button => {
                button.addEventListener('click', function () {
                    this.classList.add('loading');
                    setTimeout(() => {
                        this.classList.remove('loading');
                    }, 2000);
                });
            });

            // Add form validation feedback
            const inputs = document.querySelectorAll('input[type="number"], input[type="text"]');
            inputs.forEach(input => {
                input.addEventListener('blur', function () {
                    if (this.value && this.checkValidity()) {
                        this.style.borderColor = '#10b981';
                        this.style.boxShadow = '0 0 0 3px rgba(16, 185, 129, 0.1)';
                    } else if (this.value) {
                        this.style.borderColor = '#ef4444';
                        this.style.boxShadow = '0 0 0 3px rgba(239, 68, 68, 0.1)';
                    } else {
                        this.style.borderColor = '';
                        this.style.boxShadow = '';
                    }
                });
            });

            // Smooth scroll behavior for better UX
            document.documentElement.style.scrollBehavior = 'smooth';
        });
    </script>
</body>

</html>